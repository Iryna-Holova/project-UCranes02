{"version":3,"file":"commonHelpers2.js","sources":["../src/js/services/exercises-api.js","../src/js/templates/subfilters-markup.js","../src/js/templates/pagination-markup.js","../src/img/icons.svg#icon-heart","../src/img/icons.svg#icon-close","../src/js/templates/exercise-details-markup.js","../src/js/templates/quote-markup.js","../src/js/renderers/render-exercises.js","../src/js/helpers/toaster.js","../src/js/common.js","../src/js/renderers/render-subfilters.js","../src/js/renderers/render-quote.js","../src/js/helpers/pagination.js","../src/js/helpers/scroll.js","../src/js/services/gallery.js","../src/js/handlers/filter-handler.js","../src/js/handlers/subfilter-handler.js","../src/js/helpers/favorites/remove-favorites-handler.js","../src/js/handlers/add-favorites-handler.js","../src/js/handlers/validation-handler.js","../src/js/handlers/rating-modal-handler.js","../src/js/handlers/rating-select-handler.js","../src/js/handlers/exercise-handler.js","../src/js/handlers/pagination-handler.js","../src/js/handlers/subscribe-handler.js","../src/js/handlers/policy-handler.js","../src/js/handlers/search-form-handler.js","../src/js/handlers/scrollTop-handlers.js","../src/js/handlers/back-button-handler.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://your-energy.b.goit.study/api/';\n\nconst filters = {\n  bodypart: 'Body parts',\n  muscles: 'Muscles',\n  equipment: 'Equipment',\n};\n\nclass ExercisesAPI {\n  constructor({\n    filter = 'muscles',\n    subFilter = '',\n    keyword = '',\n    page = 1,\n    limit = 8,\n  }) {\n    this.filter = filter;\n    this.subFilter = subFilter;\n    this.keyword = keyword;\n    this.page = page;\n    this.limit = limit;\n    this.id = '';\n  }\n\n  async getFilters() {\n    const response = await axios.get(`${BASE_URL}filters`, {\n      params: {\n        filter: filters[this.filter],\n        page: this.page,\n        limit: this.limit,\n      },\n    });\n    return response.data;\n  }\n\n  async getExercises() {\n    const response = await axios.get(`${BASE_URL}exercises`, {\n      params: {\n        [this.filter]: this.subFilter,\n        keyword: this.keyword,\n        page: this.page,\n        limit: this.limit,\n      },\n    });\n    return response.data;\n  }\n\n  async getExerciseById(id) {\n    const response = await axios.get(`${BASE_URL}exercises/${id}`);\n    this.id = id;\n    return response.data;\n  }\n\n  async updateExerciseRating({ rate, email, review }) {\n    const response = await axios.patch(\n      `${BASE_URL}exercises/${this.id}/rating`,\n      { rate, email, review }\n    );\n    return response.data;\n  }\n\n  async getQuote() {\n    const response = await axios.get(`${BASE_URL}quote`);\n    return response.data;\n  }\n\n  async subscribe({ email }) {\n    const response = await axios.post(`${BASE_URL}subscription`, { email });\n    return response.data;\n  }\n}\n\nconst exercisesApi = new ExercisesAPI({});\nexport { exercisesApi };\n","function subfiltersMarkup(array) {\n  return array\n    .map(\n      ({\n        filter,\n        name,\n        imgURL,\n      }) => `<li class=\"exercises-item\">\n      <a data-subfilter=\"${name}\" class=\"exercises-item-container\" href=\"\">\n        <img class=\"exercises-item-image\" src=\"${imgURL}\" alt=\"${name}\" />\n        <div class=\"exercises-proprties-container\">\n          <h4 class=\"exercises-item-name\">${name}</h4>\n          <p class=\"exercises-item-type\">${filter}</p>\n        </div>\n      </a>\n    </li>`\n    )\n    .join('');\n}\n\nexport default subfiltersMarkup;\n","function paginationMarkup(activePage, total) {\n  let arrElPagin = [];\n  for (let page = 1; page <= total; page += 1) {\n    arrElPagin.push(\n      `<li class=\"elm\"><button type=\"button\" class=\"pagination-el ${\n        page === activePage ? 'active' : 'unactive'\n      }\" data-page=\"${page}\" >${page}</button></li>`\n    );\n  }\n  return arrElPagin.join('');\n}\n\nexport default paginationMarkup;\n","export default \"__VITE_ASSET__7f604992__$_#icon-heart__\"","export default \"__VITE_ASSET__10f6c6ff__$_#icon-close__\"","import heartIcon from '../../img/icons.svg#icon-heart';\nimport removeIcon from '../../img/icons.svg#icon-remove';\nimport closeIcon from '../../img/icons.svg#icon-close';\n\nfunction exerciseDetailsMarkup({\n  bodyPart,\n  equipment,\n  gifUrl,\n  name,\n  target,\n  description,\n  rating,\n  burnedCalories,\n  time,\n  popularity,\n  _id,\n}) {\n  let newRating = Math.round(rating);\n  let isId = false;\n  const parsedData = JSON.parse(localStorage.getItem('favorites'));\n  if (parsedData) {\n    isId = parsedData.some(obj => obj._id === _id);\n  }\n  return `\n  <div class=\"exercise-modal-backdrop\" >\n    <div class=\"exercise-modal\">\n        <button class=\"exercise-card-close-btn\" type=\"button\">\n            <svg class=\"exercise-card-close-icon\" aria-label=\"Modal window close icon\">\n                <use href=\"${closeIcon}\"></use>\n            </svg>\n        </button>\n        <div class=\"exercise-card\">\n            <div class=\"exercise-card-img-wrap\">\n                <img src=${gifUrl} alt=\"\">\n            </div>\n                <div class=\"exercise-card-info\">\n                    <div>\n                        <h2 class=\"exercise-card-title\">${name}</h2>\n                        ${\n                          newRating\n                            ? ` <div class=\"exercise-card-rating\"><span>${\n                                newRating ? newRating + '.0' : ''\n                              }</span>\n                        ${[1, 2, 3, 4, 5]\n                          .map(i => {\n                            return `\n                        <svg aria-label=\"Rating star\" width=\"16\" height=\"16\" stroke=\"var(--black)\" fill=${\n                          newRating >= i\n                            ? 'var(--yellow)'\n                            : 'var(--white-transparent-20)'\n                        } >\n                            <use href=\"/img/icons.svg#icon-star\"></use>\n                        </svg>`;\n                          })\n                          .join('')}\n                          </div>`\n                            : ''\n                        }\n                            \n                        <ul class=\"exercise-card-details-list\">\n                        ${\n                          target\n                            ? `<li class=\"exercise-card-details-item\">\n                        <p class=\"details-name\">Target</p>\n                        <p class=\"details-value\">${target}</p>\n                        </li>`\n                            : ``\n                        }\n                        ${\n                          bodyPart\n                            ? `<li class=\"exercise-card-details-item\">\n                              <p class=\"details-name\">Body Part</p>\n                              <p class=\"details-value\">${bodyPart}</p>\n                          </li>`\n                            : ``\n                        }\n                          ${\n                            equipment\n                              ? `<li class=\"exercise-card-details-item\">\n                              <p class=\"details-name\">Equipment</p>\n                              <p class=\"details-value\">${equipment}</p>\n                          </li>`\n                              : ``\n                          }\n                          ${\n                            popularity\n                              ? `<li class=\"exercise-card-details-item\">\n                              <p class=\"details-name\">Popular</p>\n                              <p class=\"details-value\">${popularity}</p>\n                          </li>`\n                              : ``\n                          }\n                          ${\n                            burnedCalories && time\n                              ? `<li class=\"exercise-card-details-item\">\n                              <p class=\"details-name\">Burned calories</p>\n                              <p class=\"details-value\">${burnedCalories}/${time} min</p>\n                          </li>`\n                              : ``\n                          }\n                         \n                        </ul>\n                        <p class=\"exercise-card-description\">${\n                          description ? description : ''\n                        }</p>\n                    </div>\n                    <div class=\"exercise-card-btn-group\">\n                        <button class=\"card-btn add-favorites-btn\" ${\n                          isId ? `style=\"padding: 12px 9px\"` : ''\n                        }>\n                            <span>${\n                              isId\n                                ? 'Remove from favorites'\n                                : 'Add to favorites'\n                            }</span>\n                            <svg class=\"favorites-icon\" aria-label=\"Favorite icon\" width=\"20\" height=\"20\" >\n                                <use href=\"${\n                                  isId ? `${removeIcon}` : `${heartIcon}heart`\n                                }\"></use>\n                            </svg>\n                        </button>\n                        <button class=\"card-btn add-rating-btn\">Give a rating</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>`;\n}\n\nexport default exerciseDetailsMarkup;\n","function quoteMarkup({ author, quote }) {\n  return `\n          <p class=\"text-quote list-item-text\">${quote}</p>\n          <p class=\"autor-quote list-item-text\">${author}</p>\n        `;\n}\n\nexport default quoteMarkup;\n","import { elements } from '../elements';\nimport { exercisesApi } from '../services/exercises-api';\nimport { exercisesMarkup } from '../templates';\n\nasync function renderExercises(page, pagination) {\n  exercisesApi.page = page;\n\n  const data = await exercisesApi.getExercises();\n  elements.gallery.innerHTML = exercisesMarkup(data.results);\n\n  if (pagination) pagination(Number(data.page), data.totalPages);\n}\n\nexport default renderExercises;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\niziToast.settings({\n  timeout: 5000,\n  resetOnHover: true,\n  position: 'bottomCenter',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  maxWidth: 335,\n  theme: 'dark',\n  backgroundColor: '#242424',\n});\n\nfunction showError(message) {\n  iziToast.show({\n    overlay: true,\n    overlayClose: true,\n    progressBarColor: '#BF5858',\n    message,\n  });\n}\n\nfunction showWarning(message) {\n  iziToast.show({\n    progressBarColor: '#EEA10C',\n    message,\n  });\n}\n\nfunction showSuccess(message) {\n  iziToast.show({\n    progressBarColor: '#4FAC40',\n    message,\n  });\n}\n\nexport { showError, showWarning, showSuccess };\n","const common = {\n  LS_KEY_QUOTE: 'quote',\n  BASE_QUOTE: {\n    author: 'Tom Brady',\n    quote:\n      \"A lot of times I find that people who are blessed with the most talent don't ever develop that attitude, and the ones who aren't blessed in that way are the most competitive and have the biggest heart.\",\n  },\n  ERROR_MESSAGE: 'Something goes wrong!',\n};\n\nexport { common };\n","import { elements } from '../elements';\nimport { exercisesApi } from '../services/exercises-api';\nimport { subfiltersMarkup } from '../templates';\nimport { showError } from '../helpers/toaster';\nimport { common } from '../common';\n\nasync function renderSubfilters(page, pagination) {\n  exercisesApi.page = page;\n\n  try {\n    const data = await exercisesApi.getFilters();\n    elements.gallery.innerHTML = subfiltersMarkup(data.results);\n    if (pagination) pagination(Number(data.page), data.totalPages);\n  } catch {\n    showError(common.ERROR_MESSAGE);\n    elements.gallery.innerHTML = '<p>Nothing was found<p/>';\n  }\n}\n\nexport default renderSubfilters;\n","import { elements } from '../elements';\nimport { common } from '../common';\nimport { exercisesApi } from '../services/exercises-api';\nimport { quoteMarkup } from '../templates';\n\nasync function renderQuote() {\n   \n    const date = new Date();\n    const today = `${date.getDate()}/${date.getMonth()}/${date.getFullYear()}`\n    let quote;\n        \n        \n    const parseQuote = JSON.parse(localStorage.getItem(common.LS_KEY_QUOTE));\n    if (parseQuote) {\n       \n        if (today !== parseQuote.date) {\n\n            try {\n                quote = await exercisesApi.getQuote();\n                \n                if (!quote.author || !quote.quote) {\n                    throw Error(\"empty data\")\n                }\n\n            } catch (error) {\n                elements.quote.insertAdjacentHTML(\"beforeend\", quoteMarkup(common.BASE_QUOTE))\n                console.log(error.message);\n                return;\n            }\n\n            quote.date = today;\n            localStorage.setItem(common.LS_KEY_QUOTE, JSON.stringify(quote))\n            elements.quote.insertAdjacentHTML(\"beforeend\", quoteMarkup(quote))\n        } else {\n            elements.quote.insertAdjacentHTML(\"beforeend\", quoteMarkup(parseQuote))\n        }\n        \n    } else {\n\n         try {\n                quote = await exercisesApi.getQuote();\n                \n                if (!quote.author || !quote.quote) {\n                    throw Error(\"empty data\")\n                }\n\n            } catch (error) {\n                elements.quote.insertAdjacentHTML(\"beforeend\", quoteMarkup(common.BASE_QUOTE))\n                console.log(error.message);\n                return;\n            }\n\n        quote.date = today;\n        localStorage.setItem(common.LS_KEY_QUOTE, JSON.stringify(quote))\n        elements.quote.insertAdjacentHTML(\"beforeend\", quoteMarkup(quote))\n    }\n\n}\n\nexport default renderQuote;","import { elements } from '../elements';\nimport paginationMarkup from '../templates/pagination-markup';\nlet page = 1;\n\nfunction changePage(newPage) {\n  const paginationEl = document.querySelector('.js-pagination');\n  [...paginationEl.children].forEach(({ firstElementChild }) => {\n    const elementPage = parseInt(firstElementChild.dataset.page);\n    if (elementPage === newPage) {\n      firstElementChild.disabled = 'true';\n      firstElementChild.classList.replace('unactive', 'active');\n    } else if (elementPage === page) {\n      firstElementChild.classList.replace('active', 'unactive');\n      firstElementChild.removeAttribute('disabled');\n    }\n  });\n  page = newPage;\n}\n\nfunction renderPagination(page, totalPages) {\n  elements.pagination.innerHTML = paginationMarkup(page, totalPages);\n}\n\nexport { renderPagination, changePage };\n","// function scrollToTopOrElement(target) {\n//   if (target === 'top') {\n//     window.scrollTo({ top: 0, behavior: 'smooth' });\n//   } else {\n//     target.scrollIntoView({ behavior: 'smooth' });\n//   }\n// }\nfunction scrollToTopOrElement(target) {\n  if (target === 'top') {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  } else {\n    const element = document.querySelector(target);\n    if (element) {\n      const elementRect = element.getBoundingClientRect();\n      if (\n        elementRect.top >= 0 &&\n        elementRect.bottom <=\n          (window.innerHeight || document.documentElement.clientHeight)\n      ) {\n        return;\n      }\n      window.scrollBy({\n        top: elementRect.top - 20,\n        behavior: 'smooth',\n      });\n    }\n  }\n}\nexport default scrollToTopOrElement;\n","import { elements } from '../elements';\nimport { renderExercises, renderQuote, renderSubfilters } from '../renderers';\nimport { exercisesApi } from './exercises-api';\nimport { renderPagination } from '../helpers/pagination';\nimport { handleSearch } from '../handlers';\nimport { handleBackButton } from '../handlers';\nimport scrollToTopOrElement from '../helpers/scroll';\n\nclass Gallery {\n  #state;\n  #subfiltersPage;\n  #filter;\n\n  constructor() {\n    this.#filter = 'muscles';\n    this.#state = 'subfilters';\n    this.#subfiltersPage = 1;\n  }\n\n  #showExercisesGallery(subfilter) {\n    this.#state = 'exercises';\n    elements.gallery.dataset.cards = 'exercises';\n    elements.backBtn.classList.remove('back-button-hidden');\n    elements.searchForm.classList.remove('search-form-hidden');\n    elements.gallerySubtitle.innerHTML = `<span class=\"exercises-title\">&nbsp;/</span><h3 class=\"exercises-subtitle\">${subfilter}</h3>`;\n\n    elements.backBtn.addEventListener('click', handleBackButton);\n    elements.searchForm.addEventListener('click', handleSearch);\n  }\n\n  #showSubfiltersGallery() {\n    this.#state = 'subfilters';\n    elements.gallery.dataset.cards = 'subfilters';\n    elements.backBtn.classList.add('back-button-hidden');\n    elements.searchForm.classList.add('search-form-hidden');\n    elements.gallerySubtitle.innerHTML = '';\n\n    elements.backBtn.removeEventListener('click', this.goBack);\n    elements.searchForm.removeEventListener('click', handleSearch);\n  }\n\n  changePage(newPage) {\n    switch (this.#state) {\n      case 'subfilters':\n        renderSubfilters(newPage);\n        this.#subfiltersPage = newPage;\n        break;\n      case 'exercises':\n        renderExercises(newPage);\n        break;\n    }\n\n    scrollToTopOrElement(elements.gallerySubtitle)\n  }\n\n  changeFilter(newFilter) {\n    exercisesApi.filter = newFilter;\n    exercisesApi.page = 1;\n    renderSubfilters(1, renderPagination);\n\n    [...elements.filter.children].forEach(({ firstElementChild }) => {\n      switch (firstElementChild.dataset.filter) {\n        case this.#filter:\n          firstElementChild.classList.remove('filter-button-active');\n          break;\n        case newFilter:\n          firstElementChild.classList.add('filter-button-active');\n          break;\n      }\n    });\n\n    this.#filter = newFilter;\n    this.#showSubfiltersGallery();\n  }\n\n  goExercises(subfilter) {\n    exercisesApi.subFilter = subfilter;\n    exercisesApi.keyword = '';\n    exercisesApi.page = 1;\n    renderExercises(1, renderPagination);\n\n    this.#showExercisesGallery(subfilter);\n    elements.searchForm.reset();\n    scrollToTopOrElement(elements.gallerySubtitle)\n  }\n\n  goSearch(query) {\n    exercisesApi.keyword = query;\n    exercisesApi.page = 1;\n    renderExercises(1, renderPagination);\n  }\n\n  resetSearch() {\n    exercisesApi.keyword = '';\n    exercisesApi.page = 1;\n    renderExercises(1, renderPagination);\n  }\n\n  goBack() {\n    exercisesApi.filter = this.#filter;\n    exercisesApi.page = this.#subfiltersPage;\n    renderSubfilters(this.#subfiltersPage, renderPagination);\n\n    this.#showSubfiltersGallery();\n  }\n\n  load() {\n    renderQuote();\n    renderSubfilters(1, renderPagination);\n  }\n}\n\nconst gallery = new Gallery();\nexport { gallery };\n","import { renderSubfilters } from '../renderers';\nimport { exercisesApi } from '../services/exercises-api';\nimport { gallery } from '../services/gallery';\n\nfunction handleFilter(e) {\n  if (!e.target.hasAttribute('data-filter')) return;\n  gallery.changeFilter(e.target.dataset.filter);\n}\n\nexport default handleFilter;\n","import { gallery } from '../services/gallery';\n\nasync function handleSubfilter(e) {\n  e.preventDefault();\n  if (!e.target.closest('[data-subfilter]')) return;\n\n  const { subfilter } = e.target.closest('[data-subfilter]').dataset;\n  gallery.goExercises(subfilter);\n}\nexport default handleSubfilter;\n","function removeFavorites(id) {\n  const favoritesData = localStorage.getItem('favorites');\n  const parsedData = JSON.parse(favoritesData);\n  const index = parsedData.map(obj => obj._id).indexOf(id);\n  parsedData.splice(index, 1);\n  localStorage.setItem('favorites', JSON.stringify(parsedData));\n}\n\nexport default removeFavorites;\n","import removeFavorites from '../helpers/favorites/remove-favorites-handler';\nimport heartIcon from '../../img/icons.svg#icon-heart';\nimport removeIcon from '../../img/icons.svg#icon-remove';\n\nfunction handleFavorites(data) {\n  const favorite = document.querySelector('.add-favorites-btn');\n  const favoritesData = localStorage.getItem('favorites');\n  const parsedData = JSON.parse(favoritesData);\n  if (favoritesData) {\n    if (!parsedData.some(obj => obj._id === data._id)) {\n      parsedData.push(data);\n      localStorage.setItem('favorites', JSON.stringify(parsedData));\n      favorite.style.padding = '12px 9px';\n      favorite.querySelector('span').textContent = 'Remove from favorites';\n      favorite.querySelector('use').setAttribute('href', removeIcon);\n    } else {\n      removeFavorites(data._id);\n      favorite.style.padding = '12px 16px';\n      favorite.querySelector('span').textContent = `Add to favorites`;\n      favorite.querySelector('use').setAttribute('href', heartIcon);\n    }\n  } else {\n    const firstData = JSON.stringify([data]);\n    localStorage.setItem('favorites', firstData);\n  }\n}\n\nexport default handleFavorites;\n","const emailRegexp = /^\\w+@[a-zA-Z_]+?.[a-zA-Z]{2,3}$/;\n\nfunction handleValidationErrors(errors, form) {\n  const [ratingFieldset, emailLabel, reviewLabel] = form.querySelectorAll(\n    '.users_rating, label'\n  );\n  const [ratingError, emailError, reviewError] =\n    form.querySelectorAll('.error');\n\n  if (errors.rate) {\n    ratingFieldset.classList.add('invalid');\n    ratingError.textContent = errors.rate;\n  } else {\n    ratingFieldset.classList.remove('invalid');\n    ratingError.textContent = '';\n  }\n\n  if (errors.email) {\n    emailLabel.classList.add('invalid');\n    emailError.textContent = errors.email;\n  } else {\n    emailLabel.classList.remove('invalid');\n    emailError.textContent = '';\n  }\n\n  if (errors.review) {\n    reviewLabel.classList.add('invalid');\n    reviewError.textContent = errors.review;\n  } else {\n    reviewLabel.classList.remove('invalid');\n    reviewError.textContent = '';\n  }\n}\n\nfunction validate({ rate, email, review }) {\n  const errors = {\n    isInvalid: false,\n  };\n\n  if (!rate) {\n    errors.isInvalid = true;\n    errors.rate = 'Please select a rating';\n  }\n\n  if (!email) {\n    errors.isInvalid = true;\n    errors.email = 'Please enter an email';\n  }\n\n  if (!emailRegexp.test(email)) {\n    errors.isInvalid = true;\n    errors.email = 'Please enter a valid email';\n  }\n\n  if (!review) {\n    errors.isInvalid = true;\n    errors.review = 'Please enter a review';\n  }\n  \n  return errors;\n}\n\nexport { validate, handleValidationErrors };\n","import { showError } from '../helpers/toaster';\nimport { exercisesApi } from '../services/exercises-api';\nimport { validate, handleValidationErrors } from './validation-handler';\n\nexport default async function submitForm(e, onSuccess) {\n  e.preventDefault();\n\n  const formData = new FormData(e.target);\n  const data = {\n    rate: Number(formData.get('rate')),\n    email: formData.get('email'),\n    review: formData.get('review'),\n  };\n\n  const validarionResult = validate(data);\n\n  handleValidationErrors(validarionResult, e.target);\n  if (validarionResult.isInvalid) return;\n\n  try {\n    const resp = await exercisesApi.updateExerciseRating(data);\n\n    onSuccess();\n  } catch (error) {\n    console.log(error);\n    showError(\"Something went wrong. Please try again later.\");\n  }\n}\n","export default function handleSetRating (e) {\n    const rating = e.target.closest('.rating');\n    if (!rating) return;\n\n    const ratingInputs = rating.querySelectorAll('[name=\"rate\"]');\n    const ratingLabel = rating.parentElement.firstElementChild;\n\n    ratingInputs.forEach((input) => {\n        if (input.checked) {\n            ratingLabel.textContent = input.value + '.0';        \n        }\n    });\n}\n","import { showSuccess, showError } from '../helpers/toaster';\nimport { exercisesApi } from '../services/exercises-api';\nimport { exerciseDetailsMarkup } from '../templates';\nimport handleFavorites from './add-favorites-handler';\nimport submitForm from './rating-modal-handler';\nimport handleSetRating  from './rating-select-handler';\n\nconst popUpState = {\n  detailsPopup: false,\n  ratingPopup: false,\n};\n\nconst stopPropagation = (e) => e.stopPropagation();\n\nconst handleRatingPopup = (ratingPopup, {closeCallback, submitCallback}) => {\n  const closeButton = ratingPopup.querySelector('.modal__close-btn');\n  const ratingForm = ratingPopup.querySelector('.give_a_rating');\n  const ratingFieldset = ratingPopup.querySelector('.rating');\n\n  ratingForm.setAttribute('novalidate', true);\n\n  ratingFieldset.addEventListener('click', (e) => {\n    handleSetRating(e);\n  });\n\n  closeButton.addEventListener('click', () => {\n    closeCallback();\n  });\n  ratingForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n    submitCallback(e);\n  });\n};\n\nconst closeDetailsPopup = (backdrop) => {\n  popUpState.detailsPopup = false;\n  popUpState.ratingPopup = false;\n  backdrop?.remove();\n  document.documentElement.classList.remove('no-scroll');\n};\n\nconst closeRatingPopup = (backdrop, ratingPopup, detailsPopup) => {\n  ratingPopup.remove();\n  backdrop.innerHTML = '';\n  popUpState.ratingPopup = false;\n  backdrop.append(detailsPopup);\n};\n\nconst handleBackdropClickAndEsc = (backdrop, ratingPopup, detailsPopup) => {\n  switch (true) {\n    case popUpState.detailsPopup && !popUpState.ratingPopup:\n      closeDetailsPopup(backdrop);\n      return;\n    case popUpState.detailsPopup && popUpState.ratingPopup:\n      closeRatingPopup(backdrop, ratingPopup, detailsPopup);\n      return;\n    default:\n      closeDetailsPopup(backdrop);\n      return;\n  }\n};\n\nconst handleListeners = (detailsPopupHtml, data) => {\n  const container = document.createElement('div');\n  container.innerHTML = detailsPopupHtml;\n\n  const backdrop = container.querySelector('.exercise-modal-backdrop');\n  const detailsPopup = container.querySelector('.exercise-modal');\n  const detailsCloseButton = container.querySelector('.exercise-card-close-btn');\n  const ratingButton = container.querySelector('.add-rating-btn');\n  const favoriteButton = container.querySelector('.add-favorites-btn');\n\n  const ratingPopup = document.querySelector('#modal-template').content.firstElementChild.cloneNode(true);\n\n  window.addEventListener('keydown', (e) => {\n    if (e.code !== 'Escape') return;\n    handleBackdropClickAndEsc(backdrop, ratingPopup, detailsPopup);\n  });\n\n  backdrop.addEventListener('click', () => {\n    handleBackdropClickAndEsc(backdrop, ratingPopup, detailsPopup);\n  });\n  \n  detailsPopup.addEventListener('click', stopPropagation);\n  ratingPopup.addEventListener('click', stopPropagation);\n  \n  detailsCloseButton.addEventListener('click', () => {\n    backdrop.remove();\n  });\n\n  ratingButton.addEventListener('click', () => {\n    popUpState.ratingPopup = true;\n    backdrop.innerHTML = '';\n    backdrop.append(ratingPopup);\n  });\n\n  favoriteButton.addEventListener('click', (e) => {\n    handleFavorites(data);\n  });\n\n  handleRatingPopup(ratingPopup, {\n    closeCallback: () => closeRatingPopup(backdrop, ratingPopup, detailsPopup),\n    submitCallback: (e) => submitForm(e, () => {\n      closeDetailsPopup(backdrop);\n      showSuccess(\"Thank you for your feedback!\");\n    }),\n  });\n\n  document.documentElement.classList.add('no-scroll');\n  popUpState.detailsPopup = true;\n  document.body.append(backdrop);\n}\n\nasync function handleExercise(e) {\n  e.preventDefault();\n  if (!e.target.closest('[data-id]')) return;\n\n  try {\n    const exerciseId = e.target.closest('[data-id]').dataset.id;\n\n    const data = await exercisesApi.getExerciseById(exerciseId);\n\n    const detailsPopup = exerciseDetailsMarkup(data);\n    const modalElement = handleListeners(detailsPopup, data);\n  \n  } catch (err) {\n    console.error(err);\n    showError(\"Something went wrong. Please try again later.\");\n  }\n}\n\nexport default handleExercise;\n","import { changePage } from '../helpers/pagination';\nimport { gallery } from '../services/gallery';\n\nfunction handlePagination({ target }) {\n  if (!target.hasAttribute('data-page')) return;\n  \n  const page = parseInt(target.dataset.page);\n  changePage(page);\n  gallery.changePage(page);\n}\n\nexport default handlePagination;\n","import { showError, showSuccess } from '../helpers/toaster';\nimport { exercisesApi } from '../services/exercises-api';\n\nasync function handleSubscribe(e) {\n  e.preventDefault();\n  const formData = new FormData(e.currentTarget);\n  const data = {};\n  formData.forEach((value, key) => {\n    data[key] = value;\n  });\n  e.currentTarget.reset();\n  try {\n    const response = await exercisesApi.subscribe({ email: data.subscribe });\n    showSuccess(response.message);\n  } catch (error) {\n    showError(error.response.data.message);\n  }\n}\n\nexport default handleSubscribe;\n","import { elements } from '../elements';\n\nlet closeBtn;\nlet modal;\n\nfunction handlePolicyModal(e) {\n  if (e.target === elements.policyBtn) {\n    modal = document.querySelector('.js-policy-modal');\n    closeBtn = document.querySelector('.js-policy-modal-close');\n  }\n  if (e.target === elements.termsBtn) {\n    modal = document.querySelector('.js-terms-modal');\n    closeBtn = document.querySelector('.js-terms-modal-close');\n  }\n  toggleModal();\n  modal.addEventListener('click', handleBackdropClick);\n  closeBtn.addEventListener('click', toggleModal);\n  window.addEventListener('keydown', handleKeyDownClick);\n}\n\nfunction handleKeyDownClick(e) {\n  if (e.code === 'Escape') {\n    toggleModal();\n  }\n}\n\nfunction handleBackdropClick(e) {\n  if (e.target === modal) {\n    toggleModal();\n  }\n}\n\nfunction toggleModal() {\n  modal.classList.toggle('is-hidden');\n  window.removeEventListener('keydown', handleKeyDownClick);\n}\n\nexport default handlePolicyModal;\n","import { elements } from '../elements';\nimport { gallery } from '../services/gallery';\n\nfunction handleSearch(evt) {\n  evt.preventDefault();\n  const textTosearch = elements.searchForm.exercise.value.trim().toLowerCase();\n  if (textTosearch) {\n    gallery.goSearch(textTosearch);\n  }\n}\n\nexport default handleSearch;\n","import scrollToTopOrElement from '../helpers/scroll.js';\nimport { elements } from '../elements.js';\nfunction handleScrollTop() {\n  scrollToTopOrElement('top');\n}\nfunction handleScrollTopBtnShow() {\n  const { scrollTopBtn } = elements;\n  if (window.scrollY < 100) {\n    scrollTopBtn.classList.replace(\n      'js-scroll-top-button-active',\n      'hide-scroll-top-button'\n    );\n    return;\n  } else {\n    // Show the button if scrolled down more than 100 pixels\n    scrollTopBtn.classList.replace(\n      'hide-scroll-top-button',\n      'js-scroll-top-button-active'\n    );\n  }\n}\n\nexport { handleScrollTop, handleScrollTopBtnShow };\n","import { gallery } from '../services/gallery';\n\nasync function handleBackButton(e) {\n  gallery.goBack();\n}\nexport default handleBackButton;","import 'modern-normalize';\n\nimport { elements } from './js/elements';\nimport {\n  handleFilter,\n  handleSubfilter,\n  handleExercise,\n  handlePagination,\n  handleSubscribe,\n  handlePolicyModal,\n  handleSearch,\n  handleScrollTop,\n  handleScrollTopBtnShow,\n} from './js/handlers';\nimport { gallery } from './js/services/gallery';\n\nelements.filter.addEventListener('click', handleFilter);\nelements.gallery.addEventListener('click', handleSubfilter);\nelements.gallery.addEventListener('click', handleExercise);\nelements.pagination.addEventListener('click', handlePagination);\nelements.subscribeForm.addEventListener('submit', handleSubscribe);\nelements.policyBtn.addEventListener('click', handlePolicyModal);\nelements.termsBtn.addEventListener('click', handlePolicyModal);\nwindow.addEventListener('scroll', handleScrollTopBtnShow);\nelements.scrollTopBtn.addEventListener('click', handleScrollTop);\n//Listener for Search\nimport throttle from 'lodash.throttle';\nelements.searchForm.addEventListener(\n  'input',\n  throttle(handleSearch, 500, {\n    leading: false,\n    trailing: true,\n  })\n);\n\ngallery.load();\n"],"names":["BASE_URL","filters","ExercisesAPI","filter","subFilter","keyword","page","limit","axios","id","response","rate","email","review","exercisesApi","subfiltersMarkup","array","name","imgURL","paginationMarkup","activePage","total","arrElPagin","heartIcon","closeIcon","exerciseDetailsMarkup","bodyPart","equipment","gifUrl","target","description","rating","burnedCalories","time","popularity","_id","newRating","isId","parsedData","obj","i","removeIcon","quoteMarkup","author","quote","renderExercises","pagination","data","elements","exercisesMarkup","iziToast","showError","message","showSuccess","common","renderSubfilters","renderQuote","date","today","parseQuote","error","changePage","newPage","firstElementChild","elementPage","renderPagination","totalPages","scrollToTopOrElement","element","elementRect","Gallery","__privateAdd","_showExercisesGallery","_showSubfiltersGallery","_state","_subfiltersPage","_filter","__privateSet","__privateGet","newFilter","__privateMethod","showSubfiltersGallery_fn","subfilter","showExercisesGallery_fn","query","handleBackButton","handleSearch","gallery","handleFilter","handleSubfilter","removeFavorites","favoritesData","index","handleFavorites","favorite","firstData","emailRegexp","handleValidationErrors","errors","form","ratingFieldset","emailLabel","reviewLabel","ratingError","emailError","reviewError","validate","submitForm","onSuccess","formData","validarionResult","resp","handleSetRating","ratingInputs","ratingLabel","input","popUpState","stopPropagation","handleRatingPopup","ratingPopup","closeCallback","submitCallback","closeButton","ratingForm","e","closeDetailsPopup","backdrop","closeRatingPopup","detailsPopup","handleBackdropClickAndEsc","handleListeners","detailsPopupHtml","container","detailsCloseButton","ratingButton","favoriteButton","handleExercise","exerciseId","modalElement","err","handlePagination","handleSubscribe","value","key","closeBtn","modal","handlePolicyModal","toggleModal","handleBackdropClick","handleKeyDownClick","evt","textTosearch","handleScrollTop","handleScrollTopBtnShow","scrollTopBtn","throttle"],"mappings":"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"}